<!DOCTYPE html>
<html>
<head>
    <title>PizzaPal</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <style>
        /* Inline styles specific to this page */
        #delivery-details input[type="text"] {
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
            border-radius: 4px;
            border: 1px solid #ccc;
        }

        #pizza-form input[type="submit"] {
            padding: 10px 20px;
            background-color: #333;
            color: #fff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        #pizza-form input[type="submit"]:hover {
            background-color: #555;
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <div class="navbar">
                <a href="#">Home</a>
                <a href="#">Menu</a>
                <a href="#">About</a>
                <a href="#">Contact</a>
            </div>
        </nav>
    </header>
    <h1>PizzaPal - Order Your Pizza</h1>
    <form id="pizza-form">
        <h2>Your Selections</h2>
        <label for="size">Size:</label>
        <select id="size" name="size"></select>
        <br>
        <label for="type">Type:</label>
        <select id="type" name="type"></select>
        <br>
        <label for="crustings">Crustings:</label>
        <input type="checkbox" id="pepperoni" name="crustings" value="Pepperoni">
        <label for="pepperoni">Pepperoni</label>
        <input type="checkbox" id="onions" name="crustings" value="Onions">
        <label for="onions">Onions</label>
        <input type="checkbox" id="bacon" name="crustings" value="Bacon">
        <label for="bacon">Bacon</label>
        <br>
        <input type="submit" value="Submit Order">
    </form>
    <table id="order-table">
        <caption>Order Summary</caption>
        <tr>
            <th>Size:</th>
            <td id="size-selection"></td>
        </tr>
        <tr>
            <th>Type:</th>
            <td id="type-selection"></td>
        </tr>
        <tr>
            <th>Crustings:</th>
            <td id="crustings-selection"></td>
        </tr>
        <tr>
            <th>Total cost:</th>
            <td id="total-cost"></td>
        </tr>
    </table>
    <div id="delivery-details">
        <h2>Location details</h2>
        <label for="estate">Estate:</label>
        <input type="text" id="estate" name="estate">
        <br>
        <label for="phone-number">Phone Number:</label>
        <input type="text" id="phone-number" name="phone-number">
    </div>
    <footer>
        <div class="footer">
            <p>&copy; 2023 PizzaPal. All rights reserved.</p>
        </div>
    </footer>
    <script src="script.js"></script>
    <script>
        // JavaScript code here
        fetch('db.json')
          .then(response => response.json())
          .then(data => {
            const sizeSelect = document.getElementById('size');
            const typeSelect = document.getElementById('type');
        
            // Populate size options
            data.pizzas.sizes.forEach(size => {
              const option = document.createElement('option');
              option.value = size.price;
              option.textContent = `${size.name} [$${size.price}]`;
              sizeSelect.appendChild(option);
            });
        
            // Populate type options
            data.pizzas.types.forEach(type => {
              const option = document.createElement('option');
              option.value = type.price;
              option.textContent = `${type.name} [$${type.price}]`;
              typeSelect.appendChild(option);
            });
        
            // Show alert for successful data fetching
            alert('Pizza data loaded successfully!');
          })
          .catch(error => {
            console.log(error);
            // Show alert for error in data fetching
            alert('An error occurred while fetching pizza data.');
          });
        
        document.getElementById('pizza-form').addEventListener('submit', function(e) {
          e.preventDefault();
        
          // Get user selections
          var size = document.getElementById('size').value;
          var type = document.getElementById('type').value;
          var crustings = [];
          var crustingsInputs = document.getElementsByName('crustings');
          for (var i = 0; i < crustingsInputs.length; i++) {
            if (crustingsInputs[i].checked) {
              crustings.push(crustingsInputs[i].value);
            }
          }
        
          // Calculate total cost
          var crustingsCost = crustings.length * 50;
          var totalCost = parseInt(size) + parseInt(type) + crustingsCost;
        
          // Display selections in the table
          document.getElementById('size-selection').textContent = document.getElementById('size').options[document.getElementById('size').selectedIndex].text;
          document.getElementById('type-selection').textContent = document.getElementById('type').options[document.getElementById('type').selectedIndex].text;
          document.getElementById('crustings-selection').textContent = crustings.join(', ');
          document.getElementById('total-cost').textContent = `Ksh ${totalCost}`;
        
          // Show delivery details
          document.getElementById('delivery-details').style.display = 'block';
        
          // Show alert for successful order placement
          alert('Order placed successfully!');
        });
    </script>
</body>
</html>
